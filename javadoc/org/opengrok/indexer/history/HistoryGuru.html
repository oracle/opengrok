<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Mon May 24 09:37:12 UTC 2021 -->
<title>HistoryGuru (OpenGrok 1.7.5 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-05-24">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HistoryGuru (OpenGrok 1.7.5 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":9,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HistoryGuru.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.opengrok.indexer.history</a></div>
<h2 title="Class HistoryGuru" class="title">Class HistoryGuru</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opengrok.indexer.history.HistoryGuru</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <span class="typeNameLabel">HistoryGuru</span>
extends java.lang.Object</pre>
<div class="block">The HistoryGuru is used to implement an transparent layer to the various
 source control systems.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Chandan</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addRepositories(java.io.File%5B%5D)">addRepositories</a></span>&#8203;(java.io.File[]&nbsp;files)</code></th>
<td class="colLast">
<div class="block">Recursively search for repositories in given directories, add those found
 to the internally used repository map.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addRepositories(java.util.Collection)">addRepositories</a></span>&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repos)</code></th>
<td class="colLast">
<div class="block">Recursively search for repositories in given directories, add those found
 to the internally used repository map.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Annotation.html" title="class in org.opengrok.indexer.history">Annotation</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#annotate(java.io.File,java.lang.String)">annotate</a></span>&#8203;(java.io.File&nbsp;file,
        java.lang.String&nbsp;rev)</code></th>
<td class="colLast">
<div class="block">Annotate the specified revision of a file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearCache(java.util.Collection)">clearCache</a></span>&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repositories)</code></th>
<td class="colLast">
<div class="block">Remove history data for a list of repositories.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearCacheFile(java.lang.String)">clearCacheFile</a></span>&#8203;(java.lang.String&nbsp;path)</code></th>
<td class="colLast">
<div class="block">Clear entry for single file from history cache.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCache()">createCache</a></span>()</code></th>
<td class="colLast">
<div class="block">Create the history cache for all of the repositories.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createCache(java.util.Collection)">createCache</a></span>&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repositories)</code></th>
<td class="colLast">
<div class="block">Create history cache for selected repositories.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCacheInfo()">getCacheInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a string with information about the history cache.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHistory(java.io.File)">getHistory</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Get the history for the specified file.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHistory(java.io.File,boolean)">getHistory</a></span>&#8203;(java.io.File&nbsp;file,
          boolean&nbsp;withFiles)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHistory(java.io.File,boolean,boolean)">getHistory</a></span>&#8203;(java.io.File&nbsp;file,
          boolean&nbsp;withFiles,
          boolean&nbsp;ui)</code></th>
<td class="colLast">
<div class="block">Get the history for the specified file.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="HistoryReader.html" title="class in org.opengrok.indexer.history">HistoryReader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHistoryReader(java.io.File)">getHistoryReader</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Get the appropriate history reader for given file.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHistoryUI(java.io.File)">getHistoryUI</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Get history for the specified file (called from the web app).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="HistoryGuru.html" title="class in org.opengrok.indexer.history">HistoryGuru</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInstance()">getInstance</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the one and only instance of the HistoryGuru.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.util.Date&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLastModifiedTimes(java.io.File)">getLastModifiedTimes</a></span>&#8203;(java.io.File&nbsp;directory)</code></th>
<td class="colLast">
<div class="block">Get the last modified times for all files and subdirectories in the
 specified directory.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRepositories()">getRepositories</a></span>()</code></th>
<td class="colLast">
<div class="block">Get collection of repositories used internally by HistoryGuru.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected <a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRepository(java.io.File)">getRepository</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRevision(java.io.File,java.lang.String,java.lang.String,java.lang.String)">getRevision</a></span>&#8203;(java.io.File&nbsp;target,
           java.lang.String&nbsp;parent,
           java.lang.String&nbsp;basename,
           java.lang.String&nbsp;rev)</code></th>
<td class="colLast">
<div class="block">Gets a named revision of the specified file into the specified target.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.io.InputStream</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRevision(java.lang.String,java.lang.String,java.lang.String)">getRevision</a></span>&#8203;(java.lang.String&nbsp;parent,
           java.lang.String&nbsp;basename,
           java.lang.String&nbsp;rev)</code></th>
<td class="colLast">
<div class="block">Get a named revision of the specified file.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasAnnotation(java.io.File)">hasAnnotation</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Check if we can annotate the specified file.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasCacheForFile(java.io.File)">hasCacheForFile</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Does the history cache contain entry for this directory ?</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasHistory(java.io.File)">hasHistory</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Does this directory contain files with source control information?</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invalidateRepositories(java.util.Collection,java.util.List,org.opengrok.indexer.configuration.CommandTimeoutType)">invalidateRepositories</a></span>&#8203;(java.util.Collection&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
                      java.util.List&lt;java.lang.String&gt;&nbsp;dirs,
                      <a href="../configuration/CommandTimeoutType.html" title="enum in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</code></th>
<td class="colLast">
<div class="block">set
 Set list of known repositories which match the list of directories.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invalidateRepositories(java.util.Collection,org.opengrok.indexer.configuration.CommandTimeoutType)">invalidateRepositories</a></span>&#8203;(java.util.Collection&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
                      <a href="../configuration/CommandTimeoutType.html" title="enum in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</code></th>
<td class="colLast">
<div class="block">Go through the list of specified repositories and determine if they
 are valid.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeCache(java.util.Collection)">removeCache</a></span>&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repositories)</code></th>
<td class="colLast">
<div class="block">Remove history data for a list of repositories.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeRepositories(java.util.Collection)">removeRepositories</a></span>&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repos)</code></th>
<td class="colLast">
<div class="block">Remove list of repositories from the list maintained in the HistoryGuru.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre class="methodSignature">public static&nbsp;<a href="HistoryGuru.html" title="class in org.opengrok.indexer.history">HistoryGuru</a>&nbsp;getInstance()</pre>
<div class="block">Get the one and only instance of the HistoryGuru.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the one and only HistoryGuru instance</dd>
</dl>
</li>
</ul>
<a id="getCacheInfo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheInfo</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getCacheInfo()
                              throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<div class="block">Get a string with information about the history cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a free form text string describing the history cache instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - if an error occurred while getting the info</dd>
</dl>
</li>
</ul>
<a id="annotate(java.io.File,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>annotate</h4>
<pre class="methodSignature">public&nbsp;<a href="Annotation.html" title="class in org.opengrok.indexer.history">Annotation</a>&nbsp;annotate&#8203;(java.io.File&nbsp;file,
                           java.lang.String&nbsp;rev)
                    throws java.io.IOException</pre>
<div class="block">Annotate the specified revision of a file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to annotate</dd>
<dd><code>rev</code> - the revision to annotate (<code>null</code> means BASE)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>file annotation, or <code>null</code> if the
 <code>HistoryParser</code> does not support annotation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if I/O exception occurs</dd>
</dl>
</li>
</ul>
<a id="getHistoryReader(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistoryReader</h4>
<pre class="methodSignature">public&nbsp;<a href="HistoryReader.html" title="class in org.opengrok.indexer.history">HistoryReader</a>&nbsp;getHistoryReader&#8203;(java.io.File&nbsp;file)
                               throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<div class="block">Get the appropriate history reader for given file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The file to get the history reader for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A HistorReader that may be used to read out history data for a
 named file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - If an error occurs while getting the history</dd>
</dl>
</li>
</ul>
<a id="getHistory(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistory</h4>
<pre class="methodSignature">public&nbsp;<a href="History.html" title="class in org.opengrok.indexer.history">History</a>&nbsp;getHistory&#8203;(java.io.File&nbsp;file)
                   throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<div class="block">Get the history for the specified file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to get the history for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>history for the file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - on error when accessing the history</dd>
</dl>
</li>
</ul>
<a id="getHistory(java.io.File,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistory</h4>
<pre class="methodSignature">public&nbsp;<a href="History.html" title="class in org.opengrok.indexer.history">History</a>&nbsp;getHistory&#8203;(java.io.File&nbsp;file,
                          boolean&nbsp;withFiles)
                   throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code></dd>
</dl>
</li>
</ul>
<a id="getHistoryUI(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistoryUI</h4>
<pre class="methodSignature">public&nbsp;<a href="History.html" title="class in org.opengrok.indexer.history">History</a>&nbsp;getHistoryUI&#8203;(java.io.File&nbsp;file)
                     throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<div class="block">Get history for the specified file (called from the web app).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to get the history for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>history for the file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - on error when accessing the history</dd>
</dl>
</li>
</ul>
<a id="getHistory(java.io.File,boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHistory</h4>
<pre class="methodSignature">public&nbsp;<a href="History.html" title="class in org.opengrok.indexer.history">History</a>&nbsp;getHistory&#8203;(java.io.File&nbsp;file,
                          boolean&nbsp;withFiles,
                          boolean&nbsp;ui)
                   throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<div class="block">Get the history for the specified file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to get the history for</dd>
<dd><code>withFiles</code> - whether or not the returned history should contain a
 list of files touched by each changeset (the file list may be skipped if
 false, but it doesn't have to)</dd>
<dd><code>ui</code> - called from the webapp</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>history for the file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - on error when accessing the history</dd>
</dl>
</li>
</ul>
<a id="getRevision(java.io.File,java.lang.String,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevision</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;getRevision&#8203;(java.io.File&nbsp;target,
                           java.lang.String&nbsp;parent,
                           java.lang.String&nbsp;basename,
                           java.lang.String&nbsp;rev)
                    throws java.io.IOException</pre>
<div class="block">Gets a named revision of the specified file into the specified target.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - a require target file</dd>
<dd><code>parent</code> - The directory containing the file</dd>
<dd><code>basename</code> - The name of the file</dd>
<dd><code>rev</code> - The revision to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if content was found</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a id="getRevision(java.lang.String,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevision</h4>
<pre class="methodSignature">public&nbsp;java.io.InputStream&nbsp;getRevision&#8203;(java.lang.String&nbsp;parent,
                                       java.lang.String&nbsp;basename,
                                       java.lang.String&nbsp;rev)</pre>
<div class="block">Get a named revision of the specified file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parent</code> - The directory containing the file</dd>
<dd><code>basename</code> - The name of the file</dd>
<dd><code>rev</code> - The revision to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An InputStream containing the named revision of the file.</dd>
</dl>
</li>
</ul>
<a id="hasHistory(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasHistory</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasHistory&#8203;(java.io.File&nbsp;file)</pre>
<div class="block">Does this directory contain files with source control information?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The name of the directory</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the files in this directory have associated revision
 history</dd>
</dl>
</li>
</ul>
<a id="hasCacheForFile(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasCacheForFile</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasCacheForFile&#8203;(java.io.File&nbsp;file)</pre>
<div class="block">Does the history cache contain entry for this directory ?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - file object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is cache, false otherwise</dd>
</dl>
</li>
</ul>
<a id="hasAnnotation(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasAnnotation</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasAnnotation&#8203;(java.io.File&nbsp;file)</pre>
<div class="block">Check if we can annotate the specified file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the file is under version control and the
 version control system supports annotation</dd>
</dl>
</li>
</ul>
<a id="getLastModifiedTimes(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastModifiedTimes</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.util.Date&gt;&nbsp;getLastModifiedTimes&#8203;(java.io.File&nbsp;directory)
                                                                          throws <a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></pre>
<div class="block">Get the last modified times for all files and subdirectories in the
 specified directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>directory</code> - the directory whose files to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a map from file names to modification times for the files that
 the history cache has information about</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - if history cannot be retrieved</dd>
</dl>
</li>
</ul>
<a id="addRepositories(java.io.File[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRepositories</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;addRepositories&#8203;(java.io.File[]&nbsp;files)</pre>
<div class="block">Recursively search for repositories in given directories, add those found
 to the internally used repository map.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>files</code> - list of directories to check if they contain a repository</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of added repositories</dd>
</dl>
</li>
</ul>
<a id="addRepositories(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRepositories</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;addRepositories&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repos)</pre>
<div class="block">Recursively search for repositories in given directories, add those found
 to the internally used repository map.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repos</code> - collection of repository paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of added repositories</dd>
</dl>
</li>
</ul>
<a id="getRepositories()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRepositories</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;getRepositories()</pre>
<div class="block">Get collection of repositories used internally by HistoryGuru.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of repositories</dd>
</dl>
</li>
</ul>
<a id="createCache(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCache</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;createCache&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repositories)</pre>
<div class="block">Create history cache for selected repositories.
 For this to work the repositories have to be already present in the
 internal map, e.g. via <code>setRepositories()</code> or <code>addRepositories()</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repositories</code> - list of repository paths</dd>
</dl>
</li>
</ul>
<a id="clearCache(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCache</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;clearCache&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repositories)</pre>
<div class="block">Remove history data for a list of repositories.
 Note that this just deals with the data, the map used by HistoryGuru
 will be left intact.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repositories</code> - list of repository paths relative to source root</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of repository paths that were found and their history data removed</dd>
</dl>
</li>
</ul>
<a id="clearCacheFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCacheFile</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;clearCacheFile&#8203;(java.lang.String&nbsp;path)</pre>
<div class="block">Clear entry for single file from history cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - path to the file relative to the source root</dd>
</dl>
</li>
</ul>
<a id="removeCache(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCache</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeCache&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repositories)</pre>
<div class="block">Remove history data for a list of repositories. Those that are
 successfully cleared are removed from the internal list of repositories.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repositories</code> - list of repository paths relative to source root</dd>
</dl>
</li>
</ul>
<a id="createCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCache</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;createCache()</pre>
<div class="block">Create the history cache for all of the repositories.</div>
</li>
</ul>
<a id="getRepository(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRepository</h4>
<pre class="methodSignature">protected&nbsp;<a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a>&nbsp;getRepository&#8203;(java.io.File&nbsp;file)</pre>
</li>
</ul>
<a id="removeRepositories(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeRepositories</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeRepositories&#8203;(java.util.Collection&lt;java.lang.String&gt;&nbsp;repos)</pre>
<div class="block">Remove list of repositories from the list maintained in the HistoryGuru.
 This is much less heavyweight than <code>invalidateRepositories()</code>
 since it just removes items from the map.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repos</code> - repository paths</dd>
</dl>
</li>
</ul>
<a id="invalidateRepositories(java.util.Collection,java.util.List,org.opengrok.indexer.configuration.CommandTimeoutType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateRepositories</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;invalidateRepositories&#8203;(java.util.Collection&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
                                   java.util.List&lt;java.lang.String&gt;&nbsp;dirs,
                                   <a href="../configuration/CommandTimeoutType.html" title="enum in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</pre>
<div class="block">set
 Set list of known repositories which match the list of directories.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repos</code> - list of repositories</dd>
<dd><code>dirs</code> - list of directories that might correspond to the repositories</dd>
<dd><code>cmdType</code> - command timeout type</dd>
</dl>
</li>
</ul>
<a id="invalidateRepositories(java.util.Collection,org.opengrok.indexer.configuration.CommandTimeoutType)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invalidateRepositories</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;invalidateRepositories&#8203;(java.util.Collection&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
                                   <a href="../configuration/CommandTimeoutType.html" title="enum in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</pre>
<div class="block">Go through the list of specified repositories and determine if they
 are valid. Those that make it through will form the new HistoryGuru
 internal map. This means this method should be used only if dealing
 with whole collection of repositories.
 <br>
 The caller is expected to reflect the new list via <code>getRepositories()</code>.
 <br>
 The processing is done via thread pool since the operation
 is expensive (see <code>RepositoryFactory.getRepository()</code>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>repos</code> - collection of repositories to invalidate.
 If null or empty, the internal map of repositories will be cleared.</dd>
<dd><code>cmdType</code> - command timeout type</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HistoryGuru.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.oracle.com">Oracle</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
