<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed Apr 16 11:16:47 UTC 2025 -->
<title>HistoryGuru (OpenGrok 1.13.28 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-16">
<meta name="description" content="declaration: package: org.opengrok.indexer.history, class: HistoryGuru">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/HistoryGuru.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.opengrok.indexer.history</a></div>
<h1 title="Class HistoryGuru" class="title">Class HistoryGuru</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.opengrok.indexer.history.HistoryGuru</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">HistoryGuru</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The HistoryGuru is used to implement an transparent layer to the various
 source control systems.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Chandan</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addRepositories(java.io.File%5B%5D)" class="member-name-link">addRepositories</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>[]&nbsp;files)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recursively search for repositories in given directories, add those found to the internally used map.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addRepositories(java.util.Collection)" class="member-name-link">addRepositories</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;repos)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recursively search for repositories in given directories, add those found to the internally used map.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>@Nullable <a href="Annotation.html" title="class in org.opengrok.indexer.history">Annotation</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#annotate(java.io.File,java.lang.String)" class="member-name-link">annotate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 @Nullable <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wrapper for <a href="#annotate(java.io.File,java.lang.String,boolean)"><code>annotate(File, String, boolean)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>@Nullable <a href="Annotation.html" title="class in org.opengrok.indexer.history">Annotation</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#annotate(java.io.File,java.lang.String,boolean)" class="member-name-link">annotate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 @Nullable <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev,
 boolean&nbsp;fallback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Annotate the specified revision of a file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearAnnotationCacheFile(java.lang.String)" class="member-name-link">clearAnnotationCacheFile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clear entry for single file from annotation cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearHistoryCacheFile(java.lang.String,boolean)" class="member-name-link">clearHistoryCacheFile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path,
 boolean&nbsp;removeHistory)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clear entry for single file from history cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createAnnotationCache(java.io.File,java.lang.String)" class="member-name-link">createAnnotationCache</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latestRev)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve and store the annotation cache entry for given file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createHistoryCache()" class="member-name-link">createHistoryCache</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create the history cache for all repositories.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createHistoryCache(java.util.Collection)" class="member-name-link">createHistoryCache</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;repositories)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create history cache for selected repositories.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fillLastHistoryEntries(java.io.File,java.util.List)" class="member-name-link">fillLastHistoryEntries</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;directory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../search/DirectoryEntry.html" title="class in org.opengrok.indexer.search">DirectoryEntry</a>&gt;&nbsp;entries)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the last modified times and descriptions for all files and subdirectories in the specified directory
 and set it into the entries provided.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAnnotationCacheInfo()" class="member-name-link">getAnnotationCacheInfo</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a string with information about the annotation cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHistory(java.io.File)" class="member-name-link">getHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the history for the specified file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHistory(java.io.File,boolean)" class="member-name-link">getHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;withFiles)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHistory(java.io.File,boolean,boolean)" class="member-name-link">getHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;withFiles,
 boolean&nbsp;ui)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>@Nullable <a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHistory(java.io.File,boolean,boolean,boolean)" class="member-name-link">getHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;withFiles,
 boolean&nbsp;ui,
 boolean&nbsp;fallback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the history for the specified file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHistoryCacheInfo()" class="member-name-link">getHistoryCacheInfo</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a string with information about the history cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="History.html" title="class in org.opengrok.indexer.history">History</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHistoryUI(java.io.File)" class="member-name-link">getHistoryUI</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get history for the specified file (called from the web app).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HistoryGuru.html" title="class in org.opengrok.indexer.history">HistoryGuru</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getInstance()" class="member-name-link">getInstance</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the one and only instance of the HistoryGuru.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>@Nullable <a href="HistoryEntry.html" title="class in org.opengrok.indexer.history">HistoryEntry</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastHistoryEntry(java.io.File,boolean,boolean)" class="member-name-link">getLastHistoryEntry</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;ui,
 boolean&nbsp;fallback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get last <a href="HistoryEntry.html" title="class in org.opengrok.indexer.history"><code>HistoryEntry</code></a> for a file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRepositories()" class="member-name-link">getRepositories</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get collection of repositories used internally by HistoryGuru.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>@Nullable <a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRepository(java.io.File)" class="member-name-link">getRepository</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Lookup repository for given file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRevision(java.io.File,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">getRevision</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;target,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parent,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;basename,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets a named revision of the specified file into the specified target file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>@Nullable <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRevision(java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">getRevision</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parent,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;basename,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a named revision of the specified file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasAnnotation(java.io.File)" class="member-name-link">hasAnnotation</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if annotation can be produced for the specified file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasAnnotation(java.io.File,org.apache.lucene.document.Document)" class="member-name-link">hasAnnotation</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 @Nullable org.apache.lucene.document.Document&nbsp;document)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if annotation can be produced for the specified file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasAnnotationCacheForFile(java.io.File)" class="member-name-link">hasAnnotationCacheForFile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasHistory(java.io.File)" class="member-name-link">hasHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasHistoryCacheForFile(java.io.File)" class="member-name-link">hasHistoryCacheForFile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invalidateRepositories(java.util.Collection,java.util.Collection,org.opengrok.indexer.configuration.CommandTimeoutType)" class="member-name-link">invalidateRepositories</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;dirs,
 <a href="../configuration/CommandTimeoutType.html" title="enum class in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set list of known repositories which match the list of directories.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invalidateRepositories(java.util.Collection,org.opengrok.indexer.configuration.CommandTimeoutType)" class="member-name-link">invalidateRepositories</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
 <a href="../configuration/CommandTimeoutType.html" title="enum class in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Go through the list of specified repositories and determine if they
 are valid.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isHistoryIndexDone()" class="member-name-link">isHistoryIndexDone</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeAnnotationCache(java.util.Collection)" class="member-name-link">removeAnnotationCache</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repositories)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove annotation cache data for a list of repositories.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeHistoryCache(java.util.Collection)" class="member-name-link">removeHistoryCache</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repositories)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove history cache data for a list of repositories.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeRepositories(java.util.Collection)" class="member-name-link">removeRepositories</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;repos)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove list of repositories from the list maintained in the HistoryGuru.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#repositorySupportsHistory(java.io.File)" class="member-name-link">repositorySupportsHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHistoryIndexDone()" class="member-name-link">setHistoryIndexDone</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#storeHistory(java.io.File,org.opengrok.indexer.history.History)" class="member-name-link">storeHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="History.html" title="class in org.opengrok.indexer.history">History</a>&nbsp;history)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Store history for a file into history cache.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setHistoryIndexDone()">
<h3>setHistoryIndexDone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setHistoryIndexDone</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isHistoryIndexDone()">
<h3>isHistoryIndexDone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isHistoryIndexDone</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInstance()">
<h3>getInstance</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HistoryGuru.html" title="class in org.opengrok.indexer.history">HistoryGuru</a></span>&nbsp;<span class="element-name">getInstance</span>()</div>
<div class="block">Get the one and only instance of the HistoryGuru.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the one and only HistoryGuru instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistoryCacheInfo()">
<h3>getHistoryCacheInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getHistoryCacheInfo</span>()</div>
<div class="block">Get a string with information about the history cache.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a free form text string describing the history cache instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAnnotationCacheInfo()">
<h3>getAnnotationCacheInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAnnotationCacheInfo</span>()</div>
<div class="block">Get a string with information about the annotation cache.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a free form text string describing the history cache instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="annotate(java.io.File,java.lang.String)">
<h3>annotate</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">@Nullable <a href="Annotation.html" title="class in org.opengrok.indexer.history">Annotation</a></span>&nbsp;<span class="element-name">annotate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 @Nullable
 @Nullable <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Wrapper for <a href="#annotate(java.io.File,java.lang.String,boolean)"><code>annotate(File, String, boolean)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to annotate</dd>
<dd><code>rev</code> - the revision to annotate (<code>null</code> means current revision)</dd>
<dt>Returns:</dt>
<dd>file annotation, or <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - on error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="annotate(java.io.File,java.lang.String,boolean)">
<h3>annotate</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">@Nullable <a href="Annotation.html" title="class in org.opengrok.indexer.history">Annotation</a></span>&nbsp;<span class="element-name">annotate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 @Nullable
 @Nullable <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev,
 boolean&nbsp;fallback)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Annotate the specified revision of a file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to annotate</dd>
<dd><code>rev</code> - the revision to annotate (<code>null</code> means current revision)</dd>
<dd><code>fallback</code> - whether to fall back to repository method</dd>
<dt>Returns:</dt>
<dd>file annotation, or <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if I/O exception occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistory(java.io.File)">
<h3>getHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="History.html" title="class in org.opengrok.indexer.history">History</a></span>&nbsp;<span class="element-name">getHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span>
                   throws <span class="exceptions"><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></span></div>
<div class="block">Get the history for the specified file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to get the history for</dd>
<dt>Returns:</dt>
<dd>history for the file</dd>
<dt>Throws:</dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - on error when accessing the history</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistory(java.io.File,boolean)">
<h3>getHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="History.html" title="class in org.opengrok.indexer.history">History</a></span>&nbsp;<span class="element-name">getHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;withFiles)</span>
                   throws <span class="exceptions"><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistoryUI(java.io.File)">
<h3>getHistoryUI</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="History.html" title="class in org.opengrok.indexer.history">History</a></span>&nbsp;<span class="element-name">getHistoryUI</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span>
                     throws <span class="exceptions"><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></span></div>
<div class="block">Get history for the specified file (called from the web app).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to get the history for</dd>
<dt>Returns:</dt>
<dd>history for the file</dd>
<dt>Throws:</dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - on error when accessing the history</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastHistoryEntry(java.io.File,boolean,boolean)">
<h3>getLastHistoryEntry</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">@Nullable <a href="HistoryEntry.html" title="class in org.opengrok.indexer.history">HistoryEntry</a></span>&nbsp;<span class="element-name">getLastHistoryEntry</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;ui,
 boolean&nbsp;fallback)</span>
                                           throws <span class="exceptions"><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></span></div>
<div class="block">Get last <a href="HistoryEntry.html" title="class in org.opengrok.indexer.history"><code>HistoryEntry</code></a> for a file. First, try to retrieve it from the cache.
 If that fails, fallback to the repository method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file to get the history entry for</dd>
<dd><code>ui</code> - is the request coming from the UI</dd>
<dd><code>fallback</code> - whether to perform fallback to repository method if cache retrieval fails</dd>
<dt>Returns:</dt>
<dd>last (newest) history entry for given file or <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - if history retrieval failed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistory(java.io.File,boolean,boolean)">
<h3>getHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="History.html" title="class in org.opengrok.indexer.history">History</a></span>&nbsp;<span class="element-name">getHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;withFiles,
 boolean&nbsp;ui)</span>
                   throws <span class="exceptions"><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHistory(java.io.File,boolean,boolean,boolean)">
<h3>getHistory</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">@Nullable <a href="History.html" title="class in org.opengrok.indexer.history">History</a></span>&nbsp;<span class="element-name">getHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 boolean&nbsp;withFiles,
 boolean&nbsp;ui,
 boolean&nbsp;fallback)</span>
                             throws <span class="exceptions"><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></span></div>
<div class="block">Get the history for the specified file. The history cache is tried first, then the repository.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to get the history for</dd>
<dd><code>withFiles</code> - whether the returned history should contain a
 list of files touched by each changeset (the file list may be skipped if false, but it doesn't have to)</dd>
<dd><code>ui</code> - called from the webapp</dd>
<dd><code>fallback</code> - fall back to fetching the history from the repository
                 if it cannot be retrieved from history cache</dd>
<dt>Returns:</dt>
<dd>history for the file or <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="HistoryException.html" title="class in org.opengrok.indexer.history">HistoryException</a></code> - on error when accessing the history</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRevision(java.io.File,java.lang.String,java.lang.String,java.lang.String)">
<h3>getRevision</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getRevision</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;target,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parent,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;basename,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Gets a named revision of the specified file into the specified target file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>target</code> - a require target file</dd>
<dd><code>parent</code> - The directory containing the file</dd>
<dd><code>basename</code> - The name of the file</dd>
<dd><code>rev</code> - The revision to get</dd>
<dt>Returns:</dt>
<dd><code>true</code> if content was found</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if an I/O error occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRevision(java.lang.String,java.lang.String,java.lang.String)">
<h3>getRevision</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">@Nullable <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">getRevision</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parent,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;basename,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rev)</span></div>
<div class="block">Get a named revision of the specified file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parent</code> - The directory containing the file</dd>
<dd><code>basename</code> - The name of the file</dd>
<dd><code>rev</code> - The revision to get</dd>
<dt>Returns:</dt>
<dd>An InputStream containing the named revision of the file.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasHistory(java.io.File)">
<h3>hasHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - File object</dd>
<dt>Returns:</dt>
<dd>whether it is possible to retrieve history for the file in any way</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="repositorySupportsHistory(java.io.File)">
<h3>repositorySupportsHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">repositorySupportsHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link"><code>File</code></a> object for a file under source root</dd>
<dt>Returns:</dt>
<dd>whether related <a href="Repository.html" title="class in org.opengrok.indexer.history"><code>Repository</code></a> and settings allow for history retrieval</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasHistoryCacheForFile(java.io.File)">
<h3>hasHistoryCacheForFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasHistoryCacheForFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file object</dd>
<dt>Returns:</dt>
<dd>if there is history cache entry for the file</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasAnnotation(java.io.File,org.apache.lucene.document.Document)">
<h3>hasAnnotation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasAnnotation</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 @Nullable
 @Nullable org.apache.lucene.document.Document&nbsp;document)</span></div>
<div class="block">Check if annotation can be produced for the specified file. If related document is specified,
 it will be used for negative check. If the document indicates that the type of file is xref-able
 or the document is <code>null</code>, the capability to produce annotation for the file will be checked
 in related repository.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to check</dd>
<dd><code>document</code> - <code>Document</code> object related to the file, can be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>whether the file can be annotated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasAnnotation(java.io.File)">
<h3>hasAnnotation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasAnnotation</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<div class="block">Check if annotation can be produced for the specified file. Wrapper of <a href="#hasAnnotation(java.io.File,org.apache.lucene.document.Document)"><code>hasAnnotation(File, Document)</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - the file to check</dd>
<dt>Returns:</dt>
<dd>whether the file can be annotated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasAnnotationCacheForFile(java.io.File)">
<h3>hasAnnotationCacheForFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasAnnotationCacheForFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file object</dd>
<dt>Returns:</dt>
<dd>if there is annotation cache entry for the file</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fillLastHistoryEntries(java.io.File,java.util.List)">
<h3>fillLastHistoryEntries</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">fillLastHistoryEntries</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;directory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../search/DirectoryEntry.html" title="class in org.opengrok.indexer.search">DirectoryEntry</a>&gt;&nbsp;entries)</span>
                               throws <span class="exceptions"><a href="CacheException.html" title="class in org.opengrok.indexer.history">CacheException</a></span></div>
<div class="block">Get the last modified times and descriptions for all files and subdirectories in the specified directory
 and set it into the entries provided.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>directory</code> - the directory whose files to check</dd>
<dd><code>entries</code> - list of <a href="../search/DirectoryEntry.html" title="class in org.opengrok.indexer.search"><code>DirectoryEntry</code></a> instances</dd>
<dt>Returns:</dt>
<dd>whether to fall back to file system based time stamps if the date is <code>null</code></dd>
<dt>Throws:</dt>
<dd><code><a href="CacheException.html" title="class in org.opengrok.indexer.history">CacheException</a></code> - if history cannot be retrieved</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addRepositories(java.io.File[])">
<h3>addRepositories</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</span>&nbsp;<span class="element-name">addRepositories</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>[]&nbsp;files)</span></div>
<div class="block">Recursively search for repositories in given directories, add those found to the internally used map.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>files</code> - list of directories to check if they contain a repository</dd>
<dt>Returns:</dt>
<dd>collection of added repositories</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addRepositories(java.util.Collection)">
<h3>addRepositories</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</span>&nbsp;<span class="element-name">addRepositories</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;repos)</span></div>
<div class="block">Recursively search for repositories in given directories, add those found to the internally used map.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repos</code> - collection of repository paths</dd>
<dt>Returns:</dt>
<dd>collection of <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history"><code>RepositoryInfo</code></a> objects</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRepositories()">
<h3>getRepositories</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;</span>&nbsp;<span class="element-name">getRepositories</span>()</div>
<div class="block">Get collection of repositories used internally by HistoryGuru.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>collection of <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history"><code>RepositoryInfo</code></a> objects</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="storeHistory(java.io.File,org.opengrok.indexer.history.History)">
<h3>storeHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">storeHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="History.html" title="class in org.opengrok.indexer.history">History</a>&nbsp;history)</span></div>
<div class="block">Store history for a file into history cache. If the related repository does not support
 getting the history for directories, it will return right away without storing the history.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file</dd>
<dd><code>history</code> - <a href="History.html" title="class in org.opengrok.indexer.history"><code>History</code></a> instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createHistoryCache(java.util.Collection)">
<h3>createHistoryCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;&gt;</span>&nbsp;<span class="element-name">createHistoryCache</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;repositories)</span></div>
<div class="block">Create history cache for selected repositories.
 For this to work the repositories have to be already present in the
 internal map, e.g. via <code>setRepositories()</code> or <code>addRepositories()</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repositories</code> - list of repository paths</dd>
<dt>Returns:</dt>
<dd>map of repository to optional exception</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearHistoryCacheFile(java.lang.String,boolean)">
<h3>clearHistoryCacheFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearHistoryCacheFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path,
 boolean&nbsp;removeHistory)</span></div>
<div class="block">Clear entry for single file from history cache.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - path to the file relative to the source root</dd>
<dd><code>removeHistory</code> - whether to remove history cache entry for the path</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createAnnotationCache(java.io.File,java.lang.String)">
<h3>createAnnotationCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createAnnotationCache</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latestRev)</span>
                           throws <span class="exceptions"><a href="CacheException.html" title="class in org.opengrok.indexer.history">CacheException</a></span></div>
<div class="block">Retrieve and store the annotation cache entry for given file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file object under source root. Needs to have a repository associated for the cache to be created.</dd>
<dd><code>latestRev</code> - latest revision of the file</dd>
<dt>Throws:</dt>
<dd><code><a href="CacheException.html" title="class in org.opengrok.indexer.history">CacheException</a></code> - on error, otherwise the cache entry is created</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearAnnotationCacheFile(java.lang.String)">
<h3>clearAnnotationCacheFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearAnnotationCacheFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
<div class="block">Clear entry for single file from annotation cache.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - path to the file relative to the source root</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeHistoryCache(java.util.Collection)">
<h3>removeHistoryCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">removeHistoryCache</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repositories)</span></div>
<div class="block">Remove history cache data for a list of repositories. Those that are
 successfully cleared may be removed from the internal list of repositories,
 depending on the <code>removeRepositories</code> parameter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repositories</code> - list of repository objects relative to source root</dd>
<dt>Returns:</dt>
<dd>list of repository names</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeAnnotationCache(java.util.Collection)">
<h3>removeAnnotationCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">removeAnnotationCache</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repositories)</span></div>
<div class="block">Remove annotation cache data for a list of repositories. Those that are
 successfully cleared may be removed from the internal list of repositories,
 depending on the <code>removeRepositories</code> parameter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repositories</code> - list of repository objects relative to source root</dd>
<dt>Returns:</dt>
<dd>list of repository names</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createHistoryCache()">
<h3>createHistoryCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;&gt;</span>&nbsp;<span class="element-name">createHistoryCache</span>()</div>
<div class="block">Create the history cache for all repositories.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>map of repository to optional exception</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRepository(java.io.File)">
<h3>getRepository</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">@Nullable <a href="Repository.html" title="class in org.opengrok.indexer.history">Repository</a></span>&nbsp;<span class="element-name">getRepository</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<div class="block">Lookup repository for given file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file object source root</dd>
<dt>Returns:</dt>
<dd>repository object or <code>null</code> if not found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeRepositories(java.util.Collection)">
<h3>removeRepositories</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeRepositories</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;repos)</span></div>
<div class="block">Remove list of repositories from the list maintained in the HistoryGuru.
 This is much less heavyweight than <code>invalidateRepositories()</code>
 since it just removes items from the map.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repos</code> - absolute repository paths</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invalidateRepositories(java.util.Collection,java.util.Collection,org.opengrok.indexer.configuration.CommandTimeoutType)">
<h3>invalidateRepositories</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">invalidateRepositories</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;dirs,
 <a href="../configuration/CommandTimeoutType.html" title="enum class in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</span></div>
<div class="block">Set list of known repositories which match the list of directories.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repos</code> - list of repositories</dd>
<dd><code>dirs</code> - collection of directories that might correspond to the repositories</dd>
<dd><code>cmdType</code> - command timeout type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invalidateRepositories(java.util.Collection,org.opengrok.indexer.configuration.CommandTimeoutType)">
<h3>invalidateRepositories</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">invalidateRepositories</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="RepositoryInfo.html" title="class in org.opengrok.indexer.history">RepositoryInfo</a>&gt;&nbsp;repos,
 <a href="../configuration/CommandTimeoutType.html" title="enum class in org.opengrok.indexer.configuration">CommandTimeoutType</a>&nbsp;cmdType)</span></div>
<div class="block">Go through the list of specified repositories and determine if they
 are valid. Those that make it through will form the new HistoryGuru
 internal map. This means this method should be used only if dealing
 with whole collection of repositories.
 <br>
 The caller is expected to reflect the new list via <code>getRepositories()</code>.
 <br>
 The processing is done via thread pool since the operation
 is expensive (see <code>RepositoryFactory.getRepository()</code>).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>repos</code> - collection of repositories to invalidate.
 If null or empty, the internal map of repositories will be cleared.</dd>
<dd><code>cmdType</code> - command timeout type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="annotations">@VisibleForTesting
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clear</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="http://www.oracle.com">Oracle</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
